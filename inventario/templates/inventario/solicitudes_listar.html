{% extends "core/base.html" %}
{% block titlepage %}Solicitudes{% endblock %}

{% block principal %}
<div class="container mt-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4>Solicitudes de reposición</h4>
  </div>

  <table class="table table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Fecha</th>
        <th>Área solicitante</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      {% for solicitud in solicitudes %}
      <tr>
        <td>{{ solicitud.id }}</td>
        <td>{{ solicitud.fecha|date:"Y-m-d H:i" }}</td>
        <td>{{ solicitud.area }}</td>
        <td>
          <span class="badge 
            {% if solicitud.estado == 'pendiente' %} bg-warning 
            {% elif solicitud.estado == 'aprobada' %} bg-success 
            {% else %} bg-secondary {% endif %}
          ">
            {{ solicitud.estado|capfirst }}
          </span>
        </td>
        <td>
          <a href="{% url 'inventario:solicitud_detalle' solicitud.id %}"
             class="btn btn-sm btn-primary">
            Ver
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center text-muted">
          No existen solicitudes registradas.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}